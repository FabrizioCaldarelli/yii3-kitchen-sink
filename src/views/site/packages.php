<?php

use idk\app\helpers\DocHelper;
use idk\app\helpers\Html;

/** @var array $packages */
/** @var string $title */
/** @var string $subTitle */

$this->title = $title;
$this->subTitle = $subTitle;

?>

<?= DocHelper::doc('3-Packages') ?>

<hr />

<p>
    The current on-going effort is to make the grid below all green:
</p>

<div class="packages">
<?php foreach ($packages as $package => $infos): ?>
    <div class="item">
        <?= $package ?><br />
        <?= Html::a(Html::o('mark-github'), 'https://github.com/yiisoft/' . $package) ?><br />
        <a href="https://travis-ci.<?= $infos['travis'] ?>/yiisoft/<?= $package ?>">
            <img src="https://travis-ci.<?= $infos['travis'] ?>/yiisoft/<?= $package ?>.svg?branch=master" />
        </a>
    </div>
<?php endforeach ?>
</div>

<hr />

<p>
    Below is a dependency graph between Yii 3 packages generated by scanning the <code>require</code> section 
    of each package <em>composer.json</em> file.
</p>


<figure>
    <a href="/img/dependency-graph.png" target="_blank"><img style="max-width: 100%;" src="/img/dependency-graph.png" alt="Yii 3 dependency graph" /></a>
    <figcaption>generated using <a href="https://github.com/graphp/graphviz">graphp/graphviz</figcaption>.
</figure>
